<div class="wrap">
  <div class="card">
    <!-- Brand -->
    <div class="brand">
      <div class="logo">IR</div>
      <div class="titles">
        <h1>INFO ROOM</h1>
        <p>Admin, Lecturers & Representatives Portal</p>
      </div>
    </div>

    <!-- Error alert -->
    <div *ngIf="error" class="alert">{{ error }}</div>

    <!-- Success alert -->
    <div
      *ngIf="success"
      class="alert"
      style="background:#10b9811a;border:1px solid #10b981aa;color:#047857;"
    >
      {{ success }}
    </div>

    <!-- Login Form -->
    <form [formGroup]="form" (ngSubmit)="submit()" novalidate>
      <!-- Email -->
      <label>Email</label>
      <div class="input">
        <input
          type="email"
          placeholder="you@example.com"
          formControlName="email"
          [class.invalid]="f.email.touched && f.email.invalid"
        />
      </div>
      <div class="hint" *ngIf="f.email.touched && f.email.errors">
        <span *ngIf="f.email.errors['required']">Email is required.</span>
        <span *ngIf="f.email.errors['email']">Enter a valid email.</span>
      </div>

      <!-- Password -->
      <label>Password</label>
      <div class="input password">
        <input
          [type]="showPassword ? 'text' : 'password'"
          placeholder="••••••••"
          formControlName="password"
          [class.invalid]="f.password.touched && f.password.invalid"
        />
        <button
          type="button"
          class="toggle"
          (click)="toggle()"
        >
          {{ showPassword ? 'Hide' : 'Show' }}
        </button>
      </div>
      <div class="hint" *ngIf="f.password.touched && f.password.errors">
        <span *ngIf="f.password.errors['required']">Password is required.</span>
        <span *ngIf="f.password.errors['minlength']">
          At least 6 characters.
        </span>
      </div>

      <!-- Submit -->
      <button class="submit" type="submit" [disabled]="loading">
        <span *ngIf="!loading">Sign in</span>
        <span *ngIf="loading" class="spinner"></span>
      </button>
    </form>

    <!-- Register Link -->
    <div class="alt">
      <button class="link" type="button" (click)="goRegister()">
        Create account
      </button>
      <!-- au unaweza kutumia routerLink moja kwa moja:
      <a class="link" routerLink="/register">Create account</a>
      -->
    </div>

    <footer>
      <small>© {{ currentYear }} INFO ROOM</small>
    </footer>
  </div>
</div>
